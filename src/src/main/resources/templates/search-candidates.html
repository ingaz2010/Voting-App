<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <title>Review</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet"  href="/static/css/style.css" th:href="@{/static/css/style.css}">
</head>
<body>
<div id="logo">Use your voice</div>
<nav id="menu">
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="menu-admin">Home</a>
        </li>
        <li class="nav-item dropdown">
            <a
                    class="nav-link dropdown-toggle"
                    data-bs-toggle="dropdown"
                    href="#"
                    role="button"
                    aria-expanded="false"
            >Elections</a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="election">Election</a></li>
                <li><a class="dropdown-item" href="election2">Election</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li><a class="dropdown-item" href="candidates-info-image">Information about Candidates</a></li>
            </ul>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="review">Review</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="confirmInfo">Account Information</a>
        </li>
    </ul>
</nav>
<nav id="menu-for-admin">
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="menu-admin">Home | Admin</a>
        </li>
        <li class="nav-item dropdown">
            <!--            <a-->
            <!--                    class="nav-link dropdown-toggle"-->
            <!--                    data-bs-toggle="dropdown"-->
            <!--                    href="#"-->
            <!--                    role="button"-->
            <!--                    aria-expanded="false"-->
            <!--            >Elections</a>-->
            <!--            <ul class="dropdown-menu">-->
            <!--                <li><a class="dropdown-item" href="set-election">Create Election</a></li>-->
            <!--                <li><a class="dropdown-item" href="search-election">Update Election</a></li>-->
            <!--                <li><hr class="dropdown-divider" /></li>-->
            <!--                <li><a class="dropdown-item" href="candidates-info-image">Information about Candidates</a></li>-->
            <!--            </ul>-->
        </li>
        <li class="nav-item">
            <a class="nav-link" href="set-election">Create Election</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="search-election">Update Election</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="register-candidate-image">Create Candidate</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="search-candidates">Delete Candidate</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="viewResults">View Results</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="confirmInfo">Update Profile</a>
        </li>
    </ul>
</nav>

<div th:if="${successMessage}" class="alert alert-success" role="alert">
    <p th:text="${successMessage}"></p>
</div>
<div th:if="${errorMessage}" class="alert alert-danger" role="alert">
    <p th:text="${errorMessage}"></p>
</div>

<h2>Elections</h2>
<!--<form role="form" th:action="@{/search-election}" th:object="${elections}">-->
<!--    <h3 th:each="election : ${elections}"></h3>-->
<form id="deleteForm" action="/search-candidates/{id}" role="form" th:action="@{/search-candidates/{id}}" th:object="${candidates}" method="post">
    <input type="hidden" name="_method" value="delete">
<table id="viewElections" class="table table-striped table-bordered" >
    <!--        <div th:object="${voterChoices}">-->
<!--    <input type="hidden" name="_method" value="DELETE"/>-->
    <thead><tr>
        <th scope="col">Name</th>
        <th scope="col">Position</th>
        <th scope="col">Party</th>
        <th scope="col">Edit Link</th>
    </tr>
    </thead>

    <tr th:each="candidate : ${candidates}">

        <td><span th:text="${candidate.name}"></span></td>
        <td><span th:text="${candidate.getRole()}"></span></td>
        <td><span th:text="${candidate.party}"></span></td>
        <td>
            <a th:href="@{/search-candidates/{id}(id=${candidate.id})}"
               href="search-candidates.html">Delete</a>
<!--            <button type="button" class="btn btn-danger" onclick="deleteCandidate(${candidate.id})">Delete</button>-->
        </td>
        <input type="hidden" name="_method" value="DELETE"/>
    </tr>

    </div>
</table>

</form>


</body>
</html>